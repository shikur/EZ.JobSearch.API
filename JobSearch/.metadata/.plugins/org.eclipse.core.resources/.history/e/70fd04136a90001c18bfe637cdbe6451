package com.Ez.JobSearch.JobSearch.Repositories;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import java.util.Collection;
import java.util.NoSuchElementException;
import java.util.Optional;

import org.springframework.stereotype.Component;

import com.Ez.JobSearch.JobSearch.model.ClientCV;

@Component
public class ClientcvDao {
	
	private final ClientCVRepository clientCVRepository;
	
	public ClientcvDao(ClientCVRepository clientCVRepository) {
       this.clientCVRepository = clientCVRepository;
    }
	
	
	public ClientCV insertClientCVData(ClientCV clientCV) {
        return this.clientCVRepository.insert(clientCV);
    }

    public Collection<ClientCV> getAllClientCVInformation() {
        return this.clientCVRepository.findAll();
    }

    public Optional<ClientCV> getClientCVInformationById(String id) {
        return this.clientCVRepository.findById(id);
    }

    public ClientCV updateClientCVUsingId(String id, ClientCV clientCV) {
        Optional<ClientCV> findclientCVnQuery = this.clientCVRepository.findById(id);
        ClientCV clientCVValues = findclientCVnQuery.get();
        clientCVValues.setCvId(clientCV.getCvId());
        clientCVValues.setLastName(clientCV.getLastName());
        return this.clientCVRepository.save(clientCVValues);
    }

    public void deleteClientCVUsingId(String id) {
        try {
        	this.clientCVRepository.deleteById(id);
        } catch (NoSuchElementException e) {
            e.printStackTrace();
        }
    }

}
