package com.Ez.JobSearch.JobSearch.Repositories;

import java.util.Collection;
import java.util.NoSuchElementException;
import java.util.Optional;

import org.springframework.stereotype.Component;

import com.Ez.JobSearch.JobSearch.model.ClientCV;

@Component
public class ClientcvDao {
	
	private final ClientCVRepository clientCVRepository ;
	
	public ClientcvDao(ClientCVRepository clientCVRepository) {
        this.clientCVRepository = clientCVRepository;
    }
	
	
	public ClientCV insertPersonData(ClientCV clientCV) {
        return clientCVRepository.insert(clientCV);
    }

    public Collection<ClientCV> getAllPersonInformation() {
        return clientCVRepository.findAll();
    }

    public Optional<ClientCV> getPersonInformationById(String id) {
        return clientCVRepository.findById(id);
    }

    public ClientCV updatePersonUsingId(String id, ClientCV clientCV) {
        Optional<ClientCV> findclientCVnQuery = clientCVRepository.findById(id);
        ClientCV clientCVValues = findclientCVnQuery.get();
        clientCVValues.setCvId(clientCV.getCvId());
        clientCVValues.setLastName(clientCV.getLastName());
        return clientCVRepository.save(clientCVValues);
    }

    public void deletePersonUsingId(String id) {
        try {
        	clientCVRepository.deleteById(id);
        } catch (NoSuchElementException e) {
            e.printStackTrace();
        }
    }

}
